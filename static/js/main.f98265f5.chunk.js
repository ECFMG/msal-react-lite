(this["webpackJsonpmsal-react-lite-example"]=this["webpackJsonpmsal-react-lite-example"]||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);n(9);var r,o,c,a,u=n(0),i=n.n(u),s=n(6),l=n.n(s),f=n(1),p=n.n(f),d=n(2),v=n(7),g=n(5),b=n(4),O=function(){throw new Error("You forgot to wrap your component in <MsalProvider>.")},E={getAuthToken:O,getAuthResult:O,isLoggedIn:!1,logout:O,login:O},m=Object(u.createContext)(E),_=function(e){var t=Object(u.useState)(!1),n=Object(g.a)(t,2),r=n[0],o=n[1],c=Object(u.useState)(),a=Object(g.a)(c,2),s=a[0],l=a[1],f="popup"===e.config.type,O=new b.b(e.config.msalConfig),E=function(){var t=Object(d.a)(p.a.mark((function t(){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f){t.next=6;break}return n=e.config,t.next=4,_(n.loginRequestConfig);case 4:t.next=9;break;case 6:return r=e.config,t.next=9,h(null===r||void 0===r?void 0:r.redirectRequestConfig);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.loginPopup(t);case 3:n=e.sent,l(n.account.homeAccountId),T(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.loginRedirect(t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t,n=null!==e&&void 0!==e?e:s;if(n)return null!==(t=O.getAccountByHomeId(n))&&void 0!==t?t:void 0},x=function(e,t){var n=C(t);if("undefined"!==typeof n)return Object(v.a)({account:n},e)},T=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===n;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=n.accessToken;case 11:return e.abrupt("return",e.t2);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var t=Object(d.a)(p.a.mark((function t(n){var r,c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=x(e.config.silentRequestConfig,n)){t.next=4;break}return o(!1),t.abrupt("return");case 4:if(!f){t.next=11;break}return c=e.config,t.next=8,A(r,c.loginRequestConfig);case 8:return t.abrupt("return",t.sent);case 11:return a=e.config,t.next=14,R(r,null===a||void 0===a?void 0:a.redirectRequestConfig);case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(e){e&&e.account.homeAccountId!==s&&(l(e.account.homeAccountId),T())};Object(u.useEffect)((function(){O.handleRedirectPromise().then(k)}),[]);var A=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.acquireTokenSilent(t);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof b.a)){e.next=16;break}if(!n){e.next=16;break}return e.next=13,O.acquireTokenPopup(n);case 13:return r=e.sent,o(!0),e.abrupt("return",r);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.acquireTokenSilent(t);case 3:return r=e.sent,l(r.account.homeAccountId),o(!0),e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof b.a)){e.next=16;break}if(o(!1),!n){e.next=16;break}return e.next=16,O.acquireTokenRedirect(n);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.config.endSessionRequestConfig&&(e.config.endSessionRequestConfig.account=C()),t.next=3,O.logout(e.config.endSessionRequestConfig);case 3:o(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i.a.createElement(m.Provider,{value:{getAuthToken:function(){return T()},getAuthResult:function(){return S()},isLoggedIn:r,logout:function(){return w()},login:function(){return E()}}},e.children)},h=function(){var e=Object(u.useContext)(m),t=e.login,n=e.logout,r=e.getAuthToken,o=e.getAuthResult,c=e.isLoggedIn;return i.a.createElement("div",null,"MSAL Example:",i.a.createElement("br",null),i.a.createElement("br",null),"Login Status: ",c?i.a.createElement("span",null,"Logged In"):i.a.createElement("span",null,"Logged Out")," ",i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return t()}},"LogIn"),i.a.createElement("button",{onClick:function(){return n()}},"LogOut"),i.a.createElement("button",{onClick:Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},"Get Token"),i.a.createElement("button",{onClick:Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,o();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.log.call(e.t0,"AuthResult:",e.t1));case 5:case"end":return e.stop()}}),e)})))},"Get msal.AuthResult"))},C=n(3),x=null!==(r=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AAD_APP_CLIENTID)&&void 0!==r?r:"missing-client-id",T=null!==(o=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AAD_DIRECTORY_TENANTID)&&void 0!==o?o:"missing-tenant-id",S=null!==(c=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AAD_REDIRECT_URI)&&void 0!==c?c:"missing-redirect-uri",k=null!==(a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AAD_SCOPES)&&void 0!==a?a:"missing-scopes",A={type:"redirect",msalConfig:{auth:{clientId:x,authority:"https://login.microsoftonline.com/".concat(T),redirectUri:S},system:{loggerOptions:{loggerCallback:function(e,t,n){if(!n)switch(e){case C.a.Error:return void console.error(t);case C.a.Info:return void console.info(t);case C.a.Verbose:return void console.debug(t);case C.a.Warning:return void console.warn(t)}}}}},silentRequestConfig:{scopes:[k]},endSessionRequestConfig:{},redirectRequestConfig:{scopes:[k]}};l.a.render(i.a.createElement(_,{config:A},i.a.createElement(h,null)),document.getElementById("root"))},8:function(e,t,n){e.exports=n(17)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.f98265f5.chunk.js.map